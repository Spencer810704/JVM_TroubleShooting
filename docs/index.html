<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>https://baoyingwang.github.io/JVM_TroubleShooting/</title>
    <script src="./scripts/mbraak-jqTree-1.4.12-0-f2091a1/jquery.min.js"></script>
    <script src="./scripts/mbraak-jqTree-1.4.12-0-f2091a1/tree.jquery.js"></script>
    <link rel="stylesheet" href="./scripts/mbraak-jqTree-1.4.12-0-f2091a1/jqtree.css">
    <script>

    var data = [
{"name": "md", "id": 0, "url": "md", "children": [{"name": "md_1.md", "id": 1, "is_dir": false, "url": "md/md_1.html"}, {"name": "js", "id": 2, "is_dir": true, "url": "md/js", "children": [{"name": "jqTree-Tips.md", "id": 3, "is_dir": false, "url": "md/js/jqTree-Tips.html"}, {"name": "jqTree-QuickStart.md", "id": 4, "is_dir": false, "url": "md/js/jqTree-QuickStart.html"}]}, {"name": "f2", "id": 5, "is_dir": true, "url": "md/f2", "children": [{"name": "index.md", "id": 6, "is_dir": false, "url": "md/f2/index.html"}]}, {"name": "f1", "id": 7, "is_dir": true, "url": "md/f1", "children": [{"name": "index.md", "id": 8, "is_dir": false, "url": "md/f1/index.html"}]}]}

    ];

    $(function() {
        $('#tree1').tree({
            data: data,
            autoOpen: true,
            dragAndDrop: false,
            autoEscape: false
        });

        //https://stackoverflow.com/questions/20714589/jqtree-associating-a-url-with-a-node
        $('#tree1').bind(
            'tree.click',
            function(event) {
                // The clicked node is 'event.node'
                var node = event.node;
                var theURL = node.url;
                if (theURL) {
                    location.href = theURL;
                }
            }
        );

        //https://github.com/mbraak/jqTree/issues/211
        //https://stackoverflow.com/questions/14411235/while-typing-in-a-text-input-field-printing-the-content-typed-in-a-div
        //https://api.jquery.com/keyup/
        //https://stackoverflow.com/questions/8795283/jquery-get-input-value-after-keypress
        $('#searchName').keyup(
            function(e) {

                //https://stackoverflow.com/questions/11365632/how-to-detect-when-the-user-presses-enter-in-an-input-field
                if (!e) e = window.event;
                var keyCode = e.keyCode || e.which;
                if (keyCode != '13'){
                  return false;
                }

                var $tree = $('#tree1');
                var search_term = this.value;

                var tree = $tree.tree('getTree');

                tree.iterate(
                    function(node) {
                        if (node.name.indexOf(search_term) == -1) {
                            // Not found, continue searching
                            return true;
                        }
                        else {
                            // Found. Select node. Stop searching.
                            $tree.tree('selectNode', node, true);
                            return false
                        }
                    }
                );
            }
        );
    });



    </script>

    <div id="search">
        <input type="text" id="searchName" name="searchName" required minlength="4" maxlength="8" size="10">
    </div>

    <div id="tree1"></div>


</html>
